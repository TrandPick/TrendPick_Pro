## 👖 TrendPick, 취향에 맞게 상품을 추천 해주는 서비스

상품 구매시 사용자의 고민을 덜어주고자 자신만의 스타일, 선호하는 스타일로 태그 기반 상품을 추천하는 서비스 제공합니다.  

트렌드한 태그들, 상품 추천 **Trend Pick**

---

### 👩‍💻 기획 **계기**

옷을 고르는 일은 즐겁지만 때때로 까다롭고 시간이 많이 소요될 수 있습니다. 수많은 선택지 중에서 마음에 드는 한 두 벌의 옷을 찾아내는 것은 실제로 상당히 어려운 일입니다.

그럼에도 불구하고, 이미 우리가 좋아하는 스타일이나 코디가 명확하다면, 이러한 과정은 훨씬 더 빠르고 쉽게 진행될 수 있습니다. 이런 생각에서 출발하여, 사용자가 원하는 스타일과 유사한 제품을 추천해주는 패션 거래 시스템을 기획하게 되었습니다.

이렇게 하면, 사용자는 수많은 제품 중에서 직접 골라야 하는 불편함을 줄일 수 있으며, 각자의 개인적인 스타일에 맞는 아이템을 더욱 빠르게 찾아낼 수 있을 것입니다.

---


## 💡 설명
![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/3342852f-8388-4c83-843b-9354841b5abe/Untitled.png)

**트렌드픽**은 사용자 가입 시 지정한 선호 태그를 활용하여 맞춤형 상품 추천을 제공합니다. 이런 방식은 사용자에게 보다 효율적이고 개인화된 쇼핑 경험을 제공하는 데 초점을 맞추고 있습니다.

사용자가 선호하는 스타일과 코디에 기반하여, 우리의 서비스는 그들에게 가장 적합한 상품들을 추천합니다. 이를 통해 고객은 어떤 상품을 선택하고 구매할지에 대해 더욱 신중하고 효과적으로 결정할 수 있습니다. 이러한 방식은 고객의 쇼핑 경험을 더욱 즐겁고 만족스럽게 만들 것입니다.

- 왜 그 기술을 사용했는지 →
- 여러분이 당면했던 문제나 나중에 추가하고 싶은 기능이 무엇인지 → ORM 사용 미숙으로 엔티티가 너무 커지는? 문제 발생, 메소드 중 너무 많은 역할을 하는 것들이 있음

---

## 🛠️ 사용 기술 스택

### 프론트엔드

HTML5, CSS3, JavaScript, Thymeleaf

### 백엔드

Java17, Gradle, SpringBoot 3.x. Spring Data JPA, MYSQL, OAuth2.0, Spring Security, Spring Data Redis, Spring Batch, Spring Data Elastic Search, JUnit5, MockMvc

### 테스트

Apache JMeter

### 인프라

Naver Clound Platform - Server(EC2), Object Storage(S3), Cloud DB for MYSQL(RDS), 

Kubernates, Docker, NGINX, Github Action, Elastic Search, Data Dog

### 협업 툴

Git, Discord, Notion, slack

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/8d1c2ba4-a29f-4c03-afd7-813b08dce8c8/Untitled.png)

---

## 📝 설계내용

**요구 사항 도출 과정**

1. **`문제 이해`**: 처음으로 문제를 정의하고 이해하는 단계입니다. 패션 이커머스 시스템을 개발하려는 목표를 설정하고 그에 따른 대략적인 요구사항을 도출합니다.
2. **`사용자와의 상호작용`**: 다음으로 사용자의 입장에서 시스템을 어떻게 사용할지 고민합니다. 사용자의 필요한 기능을 파악하고 이를 시스템의 요구사항으로 변환합니다.
3. **`세부 요구사항 도출`**: 각 요구사항의 세부사항을 정의합니다. 예를 들어, 상품에 대한 요구사항을 정의하면서 상품 리스트, 상품 검색, 상품 상세페이지 등의 세부 요구사항을 도출합니다.
4. **`요구사항 검토 및 확정`**: 도출한 요구사항을 검토하고 수정, 보완한 뒤 최종적으로 확정합니다. 이 과정에서 각 요구사항이 시스템의 목표와 잘 부합하는지, 사용자의 요구를 충족시키는지 등을 검토합니다.
5. **`요구사항 문서화`**: 마지막으로 도출한 요구사항을 문서화합니다. 이 문서는 개발 과정에서 참조할 수 있도록 구체적이고 명확해야 합니다.


ERD 설계도

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/f122b99e-530a-4c0e-90d7-d96c3a3dae27/Untitled.png)

---

## ✅ 기능요약

- 회원가입/로그인
- 핵심 기능: **선호태그 기반 상품 추천**
- 상품 검색
- 상품 메인/서브 카테고리
- 전체 관리자일 경우
    - 출금 승인
- 브랜드 관리자일 경우
    - 상품 등록, 수정, 삭제/ 할인 적용/ 쿠폰 발급 / 정산 데이터 생성/ 출금 신청
- 일반 유저일 경우
    - 구매 / 리뷰 작성 / 개인 회원 정보 관리
    

---

## ⭕ 부하테스트 및 개선

쇼핑몰은 이벤트나 타임 세일 등 어떤 기간 동안 갑자기 사용자가 몰리는 경우, 최대 몇 명의 사용자들이 서버를 사용할 수 있는지 상황을 확인하고 대비하고자 부하 테스트를 진행하여 로직을 개선해보고자 했습니다. 환경은 상품 3만 개, 유저는 1천명을 가정하고 진행했습니다.

부하 테스트에는 몇 가지 시나리오를 설정해서 부하 테스트를 진행했습니다. 

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/20aa6150-841d-4eee-955a-d6aae9cb928f/Untitled.png)

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/2f328bde-21af-46c1-bd35-0b2e90d2cf4e/Untitled.png)

평균적으로 3.1초에서 4초 정도의 요청 시간이 나타났습니다.

이를 개선하고자 상품 별로 캐시를 적용하고 상품의 값이 자주 바뀌는 특성 상 수정이나 삭제 로직  수행 시 캐시의 내용도 변경되도록 했습니다.

캐시 변경 시에도 요청 시간이 그대로인지, 늘어났는지 상황을 부여하여 확인했고 멤버 email에 DB인덱싱을 적용하여 개선을 이끌어내고자 했습니다. 전체적으로는 필요한 데이터만 받으면서 최적화된 데이터 전송을 하도록 반환 값들을 dto 객체로 수정했습니다. 이렇게 개선 후에는 전체적으로 요청 당 1.1초 정도 감소한 것을 보실 수 있습니다.
