<html layout:decorate="~{trendpick/usr/layout/layout.html}" xmlns:layout="http://www.w3.org/1999/xhtml">
<head>
  <title>로그인</title>
</head>
<body>
<main layout:fragment="main" class="flex-grow flex items-center justify-center">

  <script>
    function LoginForm__submit(form) {

      form.username.value = form.username.value.trim();

      if (form.username.value.length === 0) {
        toastWarning('아이디를 입력해주세요.');
        form.username.focus();
        return;
      }
      if (form.username.value.length < 4) {
        toastWarning('아이디를 4자 이상 입력해주세요.');
        form.username.focus();
        return;
      }

      form.password.value = form.password.value.trim();

      if (form.password.value.length === 0) {
        form.password.focus();
        toastWarning('비밀번호를 입력해주세요.');
        return;
      }
      if (form.password.value.length < 4) {
        toastWarning('비밀번호를 4자 이상 입력해주세요.');
        form.password.focus();
        return;
      }
      form.submit(); // 폼 발송
    }
  </script>

  <div class="w-full px-4">
    <form th:action method="post" class="flex flex-col gap-6" onsubmit="LoginForm__submit(this); return false;">
      <div class="form-control">
        <label class="label">
          <span class="label-text">이메일</span>
        </label>
        <label>
          <input type="text" name="username" placeholder="이메일을 입력해주세요." class="input input-bordered input-accent w-full max-w-xs" autoFocus/>
        </label>
      </div>
      <div class="form-control">
        <label class="label">
          <span class="label-text">비밀번호</span>
        </label>
        <label>
          <input type="password" name="password" placeholder="비밀번호를 입력해주세요." class="input input-bordered input-accent w-full max-w-xs" autoFocus/>
        </label>
      </div>
      <button id="btn-join-1 w-min" class="btn btn-accent">
        <i class="fa-solid fa-user-plus"></i>
        <span>로그인</span>
      </button>
    </form>
    <a href="/trendpick/member/register" class="link link-accent float-right">계정이 없으신가요?</a>
  </div>
</main>
</body>
</html>
